# 出勤時間予測Webアプリ
過去のデータから出勤時間を予測します．
また，オンライン学習により利用のたびにモデルの更新を行い，予測精度の改善を図ります．
予測には2次回帰モデルを用います．
誤差には2乗和誤差を，パラメタ更新には最急降下法を用います．


## ローカル学習
`local_data.json`を用意します．
書式は次の通りです：
```
[
  {
    "user_id": <int>,
    "commuting_data": [
      {
        "departure_time": <hh:mm>,
        "minutes_required": <mm>
      },
      ...
  },
  ...
]
```
手元の環境で`local_fit.py`を叩いてください．
`weight.json`が更新されます．


## オンライン学習
LINE Botを利用するための準備が必要です．
また，ホスティング用サーバも用意する必要があります．

ユーザはLINE Botとのやり取りを通じて本システムを利用します．
「出勤」を含むメッセージが送信されると，
送信者に対応するモデルが選択され，送信時刻を入力とした出勤時間の予測を行います．
予測時間はLINE Botにより通知されます．
「出勤」を送信してから90分以内に「到着」を含むメッセージが送信されると，
「出勤」の送信から「到着」の送信までの時間を出勤時間とし，モデルの更新を行います．
更新後，`weight.json`に更新後のパラメタが記録されます．



